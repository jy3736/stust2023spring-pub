<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Xilinx Vivado - Post-map Simulation</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="dark-theme.css"><link rel="stylesheet"  target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github-dark-dimmed.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script></head><body><article id="2d05cf96-e422-479d-a159-3fbac1b5be57" class="page sans"><header><img class="page-cover-image" src="https://images.unsplash.com/photo-1515630278258-407f66498911?ixlib=rb-4.0.3&amp;q=85&amp;fm=jpg&amp;crop=entropy&amp;cs=srgb" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="%E8%AA%B2%E7%A8%8B%E7%B0%A1%E4%BB%8B%20-%20%E6%95%B8%E4%BD%8D%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%AF%A6%E5%8B%99%20(2023%20Spring)%2099b0e4aae697421099048b7e70025a47/yang01.png"/></div><h1 class="page-title">Xilinx Vivado - Post-map Simulation</h1><link rel="stylesheet" href="dark-theme.css"><link rel="stylesheet"  target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github-dark-dimmed.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script></header><div class="page-body"><p id="8cd92bb3-1aeb-48a5-bba6-794f5993ebc9" class="">This class will introduce you to the Xilinx Vivado FPGA design flow, which is a comprehensive and integrated toolset for creating and implementing FPGA designs. You will learn how to use behavioral Verilog to describe the functionality and structure of your design, and how to simulate and verify its behavior using the Vivado simulator. You will also learn how to synthesize your design into a netlist that can be mapped to an FPGA device, and how to simulate and verify the synthesized design using the Vivado logic analyzer.</p><h2 id="858116d0-bfa5-4041-b003-8ef9748429bf" class="block-color-yellow_background">Problem 1: Measuring the Delay of a 4-bit Adder</h2><p id="f72b6d70-d657-46fd-95f1-47e9e1fd7672" class="">When Verilog code is synthesized, it is turned into a netlist of hardware components and their connections. Timing information is also extracted, which tells us about the timing constraints of the design. You should check if the synthesized design works correctly and pay attention to any timing differences between the original Verilog code and the synthesized design. This means making sure that the timing requirements of the design are still met after synthesis.</p><h3 id="0f6765fc-7c8b-4f1e-9377-661c001ac839" class="block-color-yellow"><code>adder4</code> Module</h3><pre id="ab7ea379-7c55-4e1d-8d24-e536d04bebc8" class="code"><code>module adder4(
    input [3:0] a,
    input [3:0] b,
    input ci,
    output [3:0] s,
    output co
    );
    
    assign {co,s} = a + b + ci;
    
endmodule</code></pre><h3 id="e035c6b5-0347-42ac-aefd-96ab4ecd26ec" class="block-color-yellow"><code>addr4_tb</code> Testbench</h3><pre id="f77cdcdf-55e2-4e9b-ab6c-d36ecc34d5f3" class="code"><code>`timescale 1ns / 1ps

module adder4_tb;

    reg [3:0] a, b;
    reg ci;
    wire [3:0] s;
    wire co;
    
    adder4 U0 (.a(a),.b(b),.ci(ci),.s(s),.co(co));
   
    initial begin
				
        
        $finish;
    end

endmodule</code></pre><h2 id="f57e2272-fbc7-4d01-8eb3-7b472c43c59f" class="block-color-yellow_background">Problem 3: Structural-level 4-to-1 Multiplexer (MUX)</h2><p id="d3fd2d50-f3e8-4218-975e-d573857ecea4" class="">You have to create a device called a 4-to-1 multiplexer (<code>mux4</code>) by using another module called the <code>mux2</code>, which can only handle 2 inputs. Look at the picture to figure out how to connect multiple <code>mux2</code> modules together, and write a Verilog design using this setup. Make sure the name and inputs in your code match those in the original question. Do not modify the testbench code, as it is used to check if your design is correct.</p><h3 id="cd36775b-8aa7-4e2c-80b7-04a80f9e022f" class="block-color-yellow"><code>mux2</code> Module</h3><pre id="68a1813a-f97d-4e36-b5ec-3cd3423bb657" class="code"><code>module mux2(
    input a,
    input b,
    input s,
    output x
    );
    
    assign x = (s)?b:a;
    
endmodule</code></pre><h3 id="685fed32-c40b-484b-9e11-47235022de5d" class="block-color-yellow"><code>mux4</code> Module Declaration</h3><figure id="be2109dc-6f7c-4539-a522-5e0f3acbeef6" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled.png"><img style="width:1429px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled.png"/></a></figure><h3 id="69aa8d6c-f2a7-4ab3-89f9-003080ec3e89" class="block-color-yellow"><code>mux4_tb</code> Testbench</h3><pre id="27acd3b9-cea0-48a9-8268-c83c1c3133f5" class="code"><code>`timescale 1ns / 1ps

`timescale 1ns / 1ps

module mux4_tb;

    
    reg [3:0] d;
    reg [1:0] s;
    
    wire out;
    reg fail;
   
    mux4 uut (
        .d(d),
        .s(s),
        .out(out)
    );

    initial begin
        
        d = 4&#x27;b0000;
        s = 2&#x27;b00;       
        fail = 0;
        #10;

        repeat (10) begin       
            d = {$random};
            s = {$random};
            fail = 0;
            #5;
            
            if (s == 2&#x27;b00) begin
                if (out != d[0]) fail = 1;
            end else if (s == 2&#x27;b01) begin
                if (out != d[1]) fail = 1;
            end else if (s == 2&#x27;b10) begin
                if (out != d[2]) fail = 1;
            end else if (s == 2&#x27;b11) begin
                if (out != d[3]) fail = 1;
            end
            #5;
        end
      
        $finish;
    end

endmodule</code></pre><h3 id="e4b05a33-1867-4c73-b884-2b33799c8163" class="block-color-yellow"><code>mux4</code> RTL Schematic </h3><figure id="288bcf19-199c-469e-8995-89f8737d9b5f" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%201.png"><img style="width:3201px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%201.png"/></a></figure><h2 id="59e6f15f-738c-4c3d-a9a0-a04faf9efae4" class="block-color-yellow_background">Problem 4: Structural-level 2-bit Binary Comparator</h2><p id="1813450e-9b35-4cb2-9ea5-a2dee6dc2d3f" class="">You need to design a Verilog module (<code>cmp2</code>) that can compare two 2-bit numbers. You can use a smaller module (<code>cmp1</code>) that can compare two 1-bit numbers. Look at the picture to see how to connect two 1-bit comparators with some <code>AND</code> and <code>OR</code> gates. Write a Verilog code that follows this picture, and use the same name and inputs as the question. Do not change the testbench code because it will test your code.</p><h3 id="ba1ad344-409a-4187-8d1b-489f2c7f734b" class="block-color-yellow"><code>cmp1</code> Module</h3><pre id="5ec46fa7-13e3-49c8-84b1-858101d5dd70" class="code"><code>module cmp1(
    input a,
    input b,
    output lt,
    output eq,
    output gt
    );
    
    assign lt = a &lt; b;
    assign eq = a == b;
    assign gt = a &gt; b;
    
endmodule</code></pre><h3 id="81d9b560-88d0-444a-b749-e7df2b7951b2" class="block-color-yellow"><code>cmp2</code> Module Declaration</h3><figure id="cc8f271a-542e-49d3-a3e1-4fb33fbb0179" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%202.png"><img style="width:1674px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%202.png"/></a></figure><h3 id="92e6eec5-78ea-421e-a335-de8f870a0403" class="block-color-yellow"><code>cmp2_tb</code> Testbench</h3><pre id="65d9868c-32a9-4d8b-b16b-43e4363bf6e3" class="code"><code>`timescale 1ns / 1ps

module cmp2_tb;
    
    reg [1:0] a;
    reg [1:0] b;
    
    wire lt;
    wire eq;
    wire gt;
    reg fail;
        
    cmp2 dut(
        .a(a),
        .b(b),
        .lt(lt),
        .eq(eq),
        .gt(gt)
        );
        
    
    initial begin
        {a,b,fail} = 0;
        #10
        
        repeat (10) begin
            a = {$random};
            b = {$random};
            fail = 0;
            #5;
            if (a &lt; b) begin
                fail = ~(lt==1 &amp;&amp; eq==0 &amp;&amp; gt==0);
            end else if (a == b) begin
                fail = ~(lt==0 &amp;&amp; eq==1 &amp;&amp; gt==0);
            end else begin
                fail = ~(lt==0 &amp;&amp; eq==0 &amp;&amp; gt==1);
            end
            
            #5;
        end
        
        $display(&quot;Testbench finished&quot;);
        $finish;
    end
    
endmodule</code></pre><h3 id="8f167df0-537f-4799-aaa3-f1c1c74dae61" class="block-color-yellow"><code>cmp2</code> RTL Schematic </h3><figure id="1271c5f4-f732-4a8a-b151-94bbfe1ce5ad" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%203.png"><img style="width:2978px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%203.png"/></a></figure><h2 id="89307d7a-065e-4dfe-a3f6-18627b3d18b2" class="block-color-yellow_background">Problem 5: Designing an 1-bit ALU Module</h2><p id="094ddac7-9d0e-453a-90ec-29fdf063624b" class="">Write a Verilog module for an Arithmetic Logic Unit (ALU) that can perform eight different operations based on the input opcode <code><strong>op</strong></code>. The module should have two input operands <code><strong>a</strong></code> and <code><strong>b</strong></code> and a 3-bit input <code><strong>op</strong></code> that represents the operation to be performed. The output <code><strong>out</strong></code> should be the result of the selected operation. The possible operations and their corresponding opcodes are as follows:</p><table id="0e5c1f06-c3a3-4a49-a6f3-31a2f9133fca" class="simple-table"><tbody><tr id="3e3f91a7-1c57-4254-ae60-5b7e5f81a358"><td id="WGSq" class=""><strong>Opcode</strong></td><td id="pudr" class=""><strong>Operation</strong></td></tr><tr id="73099ae6-c2ca-4654-ba2d-f2920aaea696"><td id="WGSq" class="">000</td><td id="pudr" class="">Bitwise AND (<code><strong>a &amp; b</strong></code>)</td></tr><tr id="b24ff8f5-15f4-43c2-a09f-d162bc6ac714"><td id="WGSq" class="">001</td><td id="pudr" class="">Bitwise OR (<code><strong>a | b</strong></code>)</td></tr><tr id="f99f40fe-41e3-4c34-a618-1aca50fd4624"><td id="WGSq" class="">010</td><td id="pudr" class="">Bitwise XOR (<code><strong>a ^ b</strong></code>)</td></tr><tr id="7d9379aa-0800-49f6-a31d-dbda886c97f7"><td id="WGSq" class="">011</td><td id="pudr" class="">Addition (<code><strong>a + b</strong></code>)</td></tr><tr id="5291b693-2c35-4637-93cb-0699cb12db96"><td id="WGSq" class="">100</td><td id="pudr" class="">Subtraction (<code><strong>a - b</strong></code>)</td></tr><tr id="7084a625-454e-4970-ad57-b642932192a6"><td id="WGSq" class="">101</td><td id="pudr" class="">Less than (<code><strong>a &lt; b</strong></code>)</td></tr><tr id="a132db06-05f4-486b-825e-7e4ea6c3028a"><td id="WGSq" class="">110</td><td id="pudr" class="">Equality (<code><strong>a == b</strong></code>)</td></tr><tr id="5c98f985-1843-49f9-97c0-efb30024f1ab"><td id="WGSq" class="">111</td><td id="pudr" class="">Greater than (<code><strong>a &gt; b</strong></code>)</td></tr></tbody></table><p id="79b577b6-72f5-4592-ab56-79c8d7d7d086" class="">The Verilog module should be named <code><strong>alu1</strong></code> and should have the following port declarations:</p><pre id="557dd044-1e48-4de4-a80f-50b000b5dd4b" class="code code-wrap"><code>module alu1(
    input a,
    input b,
    input [2:0] op,
    output out
		);

		// write your code here

endmodule</code></pre><p id="ae1645cc-0f09-4754-9195-e410f4f5f8f8" class="">The <code><strong>out</strong></code> output port should be assigned the result of the selected operation using a conditional operator. If the opcode <code><strong>op</strong></code> is not recognized, the output should be set to 0.</p><h3 id="97ed1924-5230-4e5d-89c8-4fd678179202" class="block-color-yellow"><code>cmp2</code> Module Declaration</h3><figure id="70bb26cd-8c94-483e-a10b-5e6966e1485b" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%204.png"><img style="width:384px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%204.png"/></a></figure><h3 id="a3ccdce5-9b17-45ae-b550-bbda0b1e3b79" class="block-color-yellow">Automated Testing of 1-bit ALU using Verilog Testbench</h3><figure id="f10e6fb1-497d-4ffd-9dcb-4f7d6abc6272" class="image"><a href="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%205.png"><img style="width:528px" src="Xilinx%20Vivado%20-%20Post-map%20Simulation%202d05cf96e422479da1593fbac1b5be57/Untitled%205.png"/></a></figure><p id="531a6637-f663-457d-bf25-bf794327c6bd" class="">
</p><figure id="cc742701-fc14-4a45-a1f6-593cc451b285" class="image"><a href="%E8%AA%B2%E7%A8%8B%E7%B0%A1%E4%BB%8B%20-%20%E6%95%B8%E4%BD%8D%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%AF%A6%E5%8B%99%20(2023%20Spring)%2099b0e4aae697421099048b7e70025a47/end1.png"><img style="width:4538px" src="%E8%AA%B2%E7%A8%8B%E7%B0%A1%E4%BB%8B%20-%20%E6%95%B8%E4%BD%8D%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%AF%A6%E5%8B%99%20(2023%20Spring)%2099b0e4aae697421099048b7e70025a47/end1.png"/></a></figure><p id="e41bc67f-ad34-4d3a-891f-d58d6594385c" class="">
</p></div></article>
<script>hljs.highlightAll();</script>
</body></html>